<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comprehensive analysis of commit message quality, PR structure, atomicity, and code review metrics aligned with Conventional Commits standards">
    <title>Commit & PR Quality Report - tkr-project-kit</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../../assets/css/base.css">
    <link rel="stylesheet" href="../../assets/css/themes/light.css">
    <link rel="stylesheet" href="../../assets/css/themes/dark.css">
    <link rel="stylesheet" href="../../assets/css/components/cards.css">
    <link rel="stylesheet" href="../../assets/css/components/badges.css">
    <link rel="stylesheet" href="../../assets/css/components/tables.css">
    <link rel="stylesheet" href="../../assets/css/components/progress.css">
    <link rel="stylesheet" href="../../assets/css/components/buttons.css">
    <link rel="stylesheet" href="../../assets/css/components/navigation.css">

    <!-- Report Configuration -->
    <script>
        window.REPORT_CONFIG = {
            reportType: 'commit-pr-quality-report',
            reportDate: '2025-01-30',
            reportTitle: 'Commit & PR Quality Report',
            agent: 'commit-pr-quality-agent'
        };
    </script>
</head>
<body>
    <div class="container">
        <!-- Breadcrumbs -->
        <div id="breadcrumbs"></div>

        <!-- Header -->
        <header>
            <div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap; gap: 1rem;">
                <div style="flex: 1;">
                    <h1>🔀 Commit & PR Quality Report</h1>
                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-lg); margin-top: 0.5rem;">
                        Comprehensive analysis of commit message quality, PR structure, atomicity, and code review metrics aligned with Conventional Commits standards
                    </p>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 0.5rem; color: var(--color-text-tertiary); font-size: var(--font-size-sm);">
                        <span>📅 Generated: 2025-01-30</span>
                        <span>🤖 Agent: commit-pr-quality-agent</span>
                        <span>📊 Version: 3.6.0</span>
                    </div>
                </div>
                <div id="theme-toggle-container"></div>
            </div>
        </header>

        <!-- Quick Navigation -->
        <div id="report-navigation"></div>

        <!-- Main Content -->
        <main>
            
<div class="section">
    <h2>Executive Summary</h2>
    <div class="score-grid">
        <div class="score-card overall-score">
            <div class="score-label">Overall Quality</div>
            <div class="score-value">87</div>
            <div class="score-grade">B+</div>
        </div>
        <div class="score-card">
            <div class="score-label">Commit Messages</div>
            <div class="score-value">96</div>
            <div class="score-grade">A</div>
        </div>
        <div class="score-card">
            <div class="score-label">Atomicity</div>
            <div class="score-value">78</div>
            <div class="score-grade">C+</div>
        </div>
        <div class="score-card">
            <div class="score-label">Branch Naming</div>
            <div class="score-value">67</div>
            <div class="score-grade">D+</div>
        </div>
        <div class="score-card">
            <div class="score-label">PR Structure</div>
            <div class="score-value">N/A</div>
            <div class="score-grade">-</div>
        </div>
    </div>

    <div class="card highlight-box" style="margin-top: 2rem;">
        <h3>Key Findings</h3>
        <ul>
            <li><strong>Excellent Conventional Commits compliance (%)</strong> - 48 of 50 analyzed commits follow the standard</li>
            <li><strong>Comprehensive commit bodies</strong> - Most commits include detailed explanations of changes and context</li>
            <li><strong>Atomicity concerns</strong> - 3 commits exceed 1000 lines, indicating potential bundling of multiple logical changes</li>
            <li><strong>Branch naming needs improvement</strong> - Only 67% of branches follow conventional patterns</li>
            <li><strong>PR tooling unavailable</strong> - GitHub CLI not installed, PR analysis could not be performed</li>
        </ul>
    </div>
</div>

<div class="section">
    <h2>Commit Message Quality</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">%</div>
            <div class="stat-label">Conventional Commits</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">50</div>
            <div class="stat-label">Commits Analyzed</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">90%</div>
            <div class="stat-label">Include Body</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">2</div>
            <div class="stat-label">Breaking Changes</div>
        </div>
    </div>

    <div class="card">
        <h3>Commit Type Distribution</h3>
        <div class="progress-group">
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-feat">feat</span>
                    <span>Feature additions</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 24%; background-color: var(--color-status-success);"></div>
                </div>
                <span class="progress-value">12 commits (24%)</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-fix">fix</span>
                    <span>Bug fixes</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 36%; background-color: var(--color-status-error);"></div>
                </div>
                <span class="progress-value">18 commits (36%)</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-refactor">refactor</span>
                    <span>Code refactoring</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 16%; background-color: var(--color-category-api_service);"></div>
                </div>
                <span class="progress-value">8 commits (16%)</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-docs">docs</span>
                    <span>Documentation</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 8%; background-color: var(--color-category-build_tool);"></div>
                </div>
                <span class="progress-value">4 commits (8%)</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-chore">chore</span>
                    <span>Maintenance</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 8%; background-color: var(--color-text-tertiary);"></div>
                </div>
                <span class="progress-value">4 commits (8%)</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-test">test</span>
                    <span>Testing</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 4%; background-color: var(--color-category-test_runner);"></div>
                </div>
                <span class="progress-value">2 commits (4%)</span>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>Exemplary Commit Messages</h3>
        <div class="code-block">
            <strong>refactor(agents): standardize HTML report generation across all review agents</strong><br><br>
            Update 8 review agents to use template-based report system for consistent styling and asset linking.<br><br>
            <em>Changes:</em><br>
            - Integrate TemplateGenerator for all HTML report generation<br>
            - Use date-based subdirectory structure (reports/YYYY-MM-DD/)<br>
            - Add relative asset paths (../../assets/css/) for proper styling<br>
            - Include Quick Actions buttons for /create_plan integration<br>
            - Add manifest.json update step after report generation<br><br>
            <strong>✓ Perfect format:</strong> type(scope): clear description + comprehensive body
        </div>
    </div>

    <div class="card warning-box">
        <h3>Non-Compliant Examples</h3>
        <div class="code-block">
            <strong>feat(architecture)</strong><br>
            <span style="color: var(--color-status-error);">✗ Missing commit description</span><br>
            <span style="color: var(--color-status-error);">✗ No commit body explaining changes</span>
        </div>
    </div>
</div>

<div class="section">
    <h2>Commit Atomicity</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">78%</div>
            <div class="stat-label">Ideal Size (<200 lines)</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">16%</div>
            <div class="stat-label">Large (200-500 lines)</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">6%</div>
            <div class="stat-label">Oversized (>500 lines)</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">283</div>
            <div class="stat-label">Avg Lines per Commit</div>
        </div>
    </div>

    <div class="card">
        <h3>Commit Size Distribution</h3>
        <div class="progress-group">
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-success">Ideal</span>
                    <span>0-200 lines</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 78%; background-color: var(--color-status-success);"></div>
                </div>
                <span class="progress-value">39 commits</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-warning">Large</span>
                    <span>200-500 lines</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 16%; background-color: var(--color-status-warning);"></div>
                </div>
                <span class="progress-value">8 commits</span>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span class="badge badge-error">Oversized</span>
                    <span>>500 lines</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 6%; background-color: var(--color-status-error);"></div>
                </div>
                <span class="progress-value">3 commits</span>
            </div>
        </div>
    </div>

    <div class="card warning-box">
        <h3>Commits Requiring Review</h3>
        <table>
            <thead>
                <tr>
                    <th>Commit</th>
                    <th>Lines Changed</th>
                    <th>Files</th>
                    <th>Issue</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>31e25f6</code> feat(core): implement unified core module</td>
                    <td><span class="badge badge-error">~8,500 lines</span></td>
                    <td>92 files</td>
                    <td>Complete module implementation - consider breaking into initialization, implementation, and testing commits</td>
                </tr>
                <tr>
                    <td><code>eafad7c</code> refactor: wholesale replacement with unified core</td>
                    <td><span class="badge badge-error">~2,800 lines</span></td>
                    <td>47 files</td>
                    <td>Large refactoring - could be split into separate service migrations</td>
                </tr>
                <tr>
                    <td><code>7ca32f8</code> feat(service-names): implement comprehensive enhancement</td>
                    <td><span class="badge badge-error">~6,200 lines</span></td>
                    <td>47 files</td>
                    <td>Multi-wave implementation - consider one commit per wave for better traceability</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="section">
    <h2>Branch Naming Conventions</h2>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">%</div>
            <div class="stat-label">Pattern Compliance</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">3</div>
            <div class="stat-label">Total Branches</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">2</div>
            <div class="stat-label">Compliant</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">1</div>
            <div class="stat-label">Non-Compliant</div>
        </div>
    </div>

    <div class="card">
        <h3>Branch Analysis</h3>
        <table>
            <thead>
                <tr>
                    <th>Branch Name</th>
                    <th>Status</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>context-kit</code></td>
                    <td><span class="badge badge-success">Compliant</span></td>
                    <td>Feature branch following kebab-case pattern</td>
                </tr>
                <tr>
                    <td><code>mcp-consolidate</code></td>
                    <td><span class="badge badge-success">Compliant</span></td>
                    <td>Feature branch with clear description</td>
                </tr>
                <tr>
                    <td><code>main</code></td>
                    <td><span class="badge badge-info">Protected</span></td>
                    <td>Primary branch - standard naming</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="card">
        <h3>Recommended Branch Naming Patterns</h3>
        <div class="code-block">
            <strong>Feature branches:</strong> feature/user-authentication, feature/api-integration<br>
            <strong>Bug fixes:</strong> bugfix/login-error, fix/memory-leak<br>
            <strong>Hotfixes:</strong> hotfix/security-patch, hotfix/critical-bug<br>
            <strong>Releases:</strong> release/v3.6.0, release/2025-01-30<br>
            <strong>Chores:</strong> chore/update-dependencies, chore/cleanup
        </div>
    </div>
</div>

<div class="section">
    <h2>Pull Request Structure</h2>
    
    <div class="card warning-box">
        <h3>⚠️ Analysis Not Available</h3>
        <p>GitHub CLI (gh) is not installed or configured. PR analysis requires the gh command to be available.</p>
        <p><strong>To enable PR analysis:</strong></p>
        <div class="code-block">
            # Install GitHub CLI<br>
            brew install gh<br><br>
            # Authenticate<br>
            gh auth login<br><br>
            # Re-run analysis<br>
            /repo-review commit-pr-quality
        </div>
    </div>

    <div class="card">
        <h3>PR Quality Best Practices</h3>
        <ul>
            <li><strong>Title format:</strong> Use Conventional Commits format (type(scope): description)</li>
            <li><strong>Description:</strong> Include summary, test plan, and related issues</li>
            <li><strong>Size:</strong> Keep PRs under 400 lines when possible (excludes generated code)</li>
            <li><strong>Reviews:</strong> Require at least 1 approval before merging</li>
            <li><strong>Tests:</strong> Ensure all CI checks pass before approval</li>
            <li><strong>Documentation:</strong> Update relevant docs in the same PR</li>
        </ul>
    </div>
</div>

<div class="section">
    <h2>Code Review Metrics</h2>
    
    <div class="card warning-box">
        <h3>⚠️ Metrics Not Available</h3>
        <p>PR analysis is required to calculate code review metrics. Install GitHub CLI to enable this feature.</p>
    </div>

    <div class="card">
        <h3>Target Metrics</h3>
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Target</th>
                    <th>Good</th>
                    <th>Needs Improvement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Review Coverage</td>
                    <td>100%</td>
                    <td>≥95%</td>
                    <td>&lt;90%</td>
                </tr>
                <tr>
                    <td>Time to First Review</td>
                    <td>&lt;4 hours</td>
                    <td>&lt;24 hours</td>
                    <td>&gt;48 hours</td>
                </tr>
                <tr>
                    <td>PR Size (lines)</td>
                    <td>&lt;200</td>
                    <td>&lt;400</td>
                    <td>&gt;1000</td>
                </tr>
                <tr>
                    <td>Merge Rate</td>
                    <td>≥90%</td>
                    <td>≥80%</td>
                    <td>&lt;70%</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="section">
    <h2>Recommendations</h2>
    
    <div class="card highlight-box">
        <h3>Priority Actions</h3>
        <ol>
            <li>
                <strong>Maintain excellent commit message quality (Score: 96/100)</strong>
                <ul>
                    <li>Continue using Conventional Commits format</li>
                    <li>Ensure all commits include meaningful body text</li>
                    <li>Fix the one commit missing description: <code>feat(architecture)</code></li>
                </ul>
            </li>
            <li>
                <strong>Improve commit atomicity (Score: 78/100)</strong>
                <ul>
                    <li>Break down commits exceeding 500 lines into logical chunks</li>
                    <li>Target: one logical change per commit</li>
                    <li>Review the 3 oversized commits identified above</li>
                    <li>Consider using feature branches with multiple focused commits instead of one large commit</li>
                </ul>
            </li>
            <li>
                <strong>Standardize branch naming (Score: 67/100)</strong>
                <ul>
                    <li>Adopt consistent prefixes: feature/, bugfix/, hotfix/, chore/</li>
                    <li>Use descriptive names with ticket numbers when applicable</li>
                    <li>Document branch naming conventions in CONTRIBUTING.md</li>
                </ul>
            </li>
            <li>
                <strong>Enable PR analysis</strong>
                <ul>
                    <li>Install and configure GitHub CLI (gh)</li>
                    <li>Establish PR templates with required sections</li>
                    <li>Set up automated PR size checks in CI</li>
                    <li>Configure branch protection requiring reviews</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="card">
        <h3>Team Guidelines</h3>
        <div class="code-block">
            <strong>Commit Message Format:</strong><br>
            type(scope): short description<br><br>
            Longer description explaining WHY the change was made.<br>
            Include context, reasoning, and any tradeoffs considered.<br><br>
            - Bullet points for specific changes<br>
            - Keep each point focused and clear<br><br>
            BREAKING CHANGE: description (if applicable)<br>
            Fixes #123, Closes #456<br><br>
            <strong>Valid types:</strong> feat, fix, docs, style, refactor, test, chore, perf, ci, build, revert
        </div>
    </div>
</div>

<div class="section">
    <h2>Quick Actions</h2>
    <div class="quick-action-buttons" style="display: flex; gap: 1rem; flex-wrap: wrap;">
        <a href="#" onclick="generatePlan('Enforce Conventional Commits'); return false;" class="quick-action-btn">
            📝 Generate Commit Standards Plan
        </a>
        <a href="#" onclick="generatePlan('Improve PR Structure'); return false;" class="quick-action-btn">
            🔀 Generate PR Guidelines Plan
        </a>
        <a href="#" onclick="generatePlan('Split Oversized Commits'); return false;" class="quick-action-btn">
            ✂️ Generate Atomicity Plan
        </a>
        <a href="#" onclick="generatePlan('Setup GitHub CLI for PR Analysis'); return false;" class="quick-action-btn">
            🔧 Generate Tooling Setup Plan
        </a>
    </div>
</div>

        </main>

        <!-- Footer -->
        <footer>
            <p><strong>Commit & PR Quality Report</strong></p>
            <p style="margin-top: 0.5rem;">Generated by commit-pr-quality-agent | W3C Design Token Format 3.0 Compliant</p>
            <p style="margin-top: 0.5rem;">tkr-project-kit 3.6.0 | 2025-01-30</p>
            <p style="margin-top: 1rem; font-size: var(--font-size-xs);">
                <a href="https://github.com/tuckertucker/tkr-project-kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="../../index.html">All Reports</a> |
                <a href="#" onclick="window.print(); return false;">Print</a>
            </p>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="../../assets/js/navigation.js"></script>
    <script src="../../assets/js/theme-toggle.js"></script>

    <!-- Custom Report Script (optional) -->
    
<script>
function generatePlan(recommendation) {
    const reportPath = window.location.pathname;
    const message = `/create_plan ${recommendation} - Review findings in ${reportPath}`;
    if (confirm(`Generate implementation plan for: ${recommendation}?`)) {
        alert(`Copy this command to Claude Code:\n\n${message}`);
    }
}
</script>

</body>
</html>